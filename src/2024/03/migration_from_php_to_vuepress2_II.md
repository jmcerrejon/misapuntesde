---
title: How I migrated from PHP to Vuepress 2 (Part II)
description: How I migrated from PHP to Vuepress 2 (Part II)
author: Jose Cerrejon
icon: fa-solid fa-code
date: 2024-03-02
prev: /
next: false
category:
    - DevOps
tags:
    - Developer
    - PHP
    - Vuepress
image: https://misapuntesde.com/images/2024/02/php_vue.jpg
---

# How I migrated from PHP to Vuepress 2 (Part II)

![Generated by OpenAI's DALL-E and modified later.](https://misapuntesde.com/images/2024/02/php_vue.jpg "Generated by OpenAI's DALL-E and modified later.")

This is the second part of the series of articles about how has been the experience of migrating a blog made in _PHP + MySQL_, to a static one using _Vuepress 2_. Here I talk about the old code structure and the technology used. Let's go!

---

## Why Vuepress?

![Vue logo](/images/2024/03/vuepress_logo.png "Vue logo")

::: info
If you prefer, you can read this post at _Medium_, you can here: [How I migrated from PHP to Vuepress 2 (Part II)](https://medium.com/@ulysess/how-i-migrated-from-php-to-vuepress-2-part-ii-6de245d6f8a1), or go to the first part: [How I migrated from PHP to Vuepress 2 (Part I)](https://medium.com/@ulysess/how-i-migrated-from-php-to-vuepress-2-part-i-aa440ecf9e85)
:::

_Vue_ is a progressive framework for building user interfaces. Unlike other monolithic frameworks, _Vue_ is designed from the ground up to be incrementally adoptable. The **core library focuses on the view layer only**, and I's easy to integrate with other libraries or existing projects.

_VuePress_ is a minimalistic _Vue-powered_ static site **generator from _Evan You_, the creator of _Vue.js_.** It was built to support the documentation needs of _Vue’s_ projects. By default, the generated theme comes optimized for technical documentation. Now It's maintained by the community (It's not activelly maintained).

I must confess that I chose _Vitepress_ in the first place, but I had to change because I didn't find an easy way to paginate a blog. It's maintained by the _Vue_ team and is also perfectly capable of powering _SPA_.

I'm pretty sure you have visited any documentation made with one of those technologies. There are thousands of sites using _Vuepress_ and _Vitepress_ to create documentation, blogs, and more.

Actually _Vuepress 2_ is not the best option for a blog If you are not an expert, because you can't find too much help in the community. Maybe I'm wrong, but that's my feeling. I had enough with the documentation of the theme I use.

## The PHP site

![Old site structure](/images/2024/03/site_structure.png "Old site structure")

One of the things I like about the old site is I developed it from scratch in five days. The _Vuepress_ version took me around 2 weeks, even when I've used a fantastic theme with all the features I need and more. The structure of the old site is simple as you can see in the image above this paragraph. The technology used was:

-   **Frontend**: HTML, CSS, JavaScript, jQuery, Bootstrap 4, [raintpl3](https://github.com/feulf/raintpl3) as PHP template engine, and Google Fonts.
-   **Backend**: PHP 5.5 and later adapted to 7.2.
-   **Database**: MySQL 5.x.

So the flow is simple. Let's check out the includes of the file _index.php_:

```php title="index.php header"
<?php
  $interval_post = (isset($_REQUEST["n"]) && is_numeric($_REQUEST["n"]))? abs($_REQUEST["n"]):"0";
  $max_post_per_page=6;
  $page = "index.php";
  include_once("rain/inc/rain.tpl.class.php");
  $tpl = new RainTPL('tpl');
  include_once('includes/config.php');
  include_once('includes/common.php');
  include_once('includes/mysql.php');
  include_once('includes/markdown.php');
  ...
```

I think is easy to understand. Let me explain you:

-   `rain.tpl.class.php` is the template engine main class.
-   `config.php` contains the configuration of the site for multi language support, and setup navigation items (_about me, news_).
-   `common.php` contains a function to handle the cut of the posts for the main page and some variable assignments for _tpl_ engine.
-   `mysql.php` contains the class _MySql_ to query & connect to the database. It has the credentials to connect to the database (What a shame! 🤦‍♂️).
-   `markdown.php` contains the function to parse the _markdown_ files created by _Michel Fortin_ [called php-markdown](https://github.com/michelf/php-markdown).

So after all the includes, the code continues connecting to _MySQL_, getting the articles to show in the main page, and finally, the template engine does the rest with `echo $tpl->draw('res_template');`, where `res_template` is a _.html_ file with _PHP_ code inside curly braces {}. The _rain.tpl_ engine was very simple and easy to use, and a good choice for small projects, but now is deprecated. Here you have an example of the `res_template.html` file:

![some code inside res_template.html](/images/2024/03/code_res_template.png "Some code inside res_template.html")

Here I have concluded the second part of this serie. In the next one, I will talk about the process building my blog using _Vuepress 2_. So, If you are interested... Stay tuned! :smiley:
